{
  "query": "\nCREATE TABLE IF NOT EXISTS `sessions` (\n  `id` varchar(255) NOT NULL PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `token` text NOT NULL,\n  `expires_at` bigint NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `coupons` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `code` varchar(50) NOT NULL UNIQUE,\n  `discount_percent` int NOT NULL DEFAULT 0,\n  `max_uses` int DEFAULT NULL,\n  `current_uses` int NOT NULL DEFAULT 0,\n  `valid_from` bigint DEFAULT NULL,\n  `valid_until` bigint DEFAULT NULL,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `stripe_invoices` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `stripe_invoice_id` varchar(255) NOT NULL UNIQUE,\n  `stripe_customer_id` varchar(255) DEFAULT NULL,\n  `user_id` int DEFAULT NULL,\n  `amount_due` int DEFAULT NULL,\n  `amount_paid` int DEFAULT NULL,\n  `currency` varchar(10) DEFAULT NULL,\n  `status` varchar(50) DEFAULT NULL,\n  `invoice_url` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `content_usage_agreements` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `content_type` varchar(50) NOT NULL,\n  `content_id` varchar(255) NOT NULL,\n  `agreed_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `ip_address` varchar(50) DEFAULT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `payment_transactions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `amount` int NOT NULL,\n  `currency` varchar(10) NOT NULL DEFAULT 'usd',\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `payment_method` varchar(50) DEFAULT NULL,\n  `stripe_payment_intent_id` varchar(255) DEFAULT NULL,\n  `metadata` json DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `student_subscriptions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `plan_type` varchar(50) NOT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'active',\n  `started_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `expires_at` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `user_phones` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `phone` varchar(20) NOT NULL,\n  `verified` boolean NOT NULL DEFAULT false,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `maintenance_notices` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `title` varchar(255) NOT NULL,\n  `content` text NOT NULL,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `start_time` bigint DEFAULT NULL,\n  `end_time` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_comments` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `content` text NOT NULL,\n  `parent_id` int DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_favorites` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  UNIQUE KEY `unique_favorite` (`video_id`, `user_id`)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_likes` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  UNIQUE KEY `unique_like` (`video_id`, `user_id`)\n);\n\nCREATE TABLE IF NOT EXISTS `traffic_stats` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `page` varchar(255) NOT NULL,\n  `views` int NOT NULL DEFAULT 0,\n  `unique_visitors` int NOT NULL DEFAULT 0,\n  `date` varchar(10) NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `team_credit_allocations` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `team_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `credits` int NOT NULL DEFAULT 0,\n  `allocated_by` int DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `user_verifications` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `type` varchar(50) NOT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `document_url` text DEFAULT NULL,\n  `verified_at` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `video_platform_links` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `platform` varchar(50) NOT NULL,\n  `platform_user_id` varchar(255) DEFAULT NULL,\n  `access_token` text DEFAULT NULL,\n  `refresh_token` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `video_submissions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `video_url` text NOT NULL,\n  `title` varchar(255) DEFAULT NULL,\n  `description` text DEFAULT NULL,\n  `platform` varchar(50) DEFAULT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `review_notes` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 1eAqNqce666eDxh.27e8122944db --database LzPte96vGTebdoWip7SPMh --execute \nCREATE TABLE IF NOT EXISTS `sessions` (\n  `id` varchar(255) NOT NULL PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `token` text NOT NULL,\n  `expires_at` bigint NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `coupons` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `code` varchar(50) NOT NULL UNIQUE,\n  `discount_percent` int NOT NULL DEFAULT 0,\n  `max_uses` int DEFAULT NULL,\n  `current_uses` int NOT NULL DEFAULT 0,\n  `valid_from` bigint DEFAULT NULL,\n  `valid_until` bigint DEFAULT NULL,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `stripe_invoices` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `stripe_invoice_id` varchar(255) NOT NULL UNIQUE,\n  `stripe_customer_id` varchar(255) DEFAULT NULL,\n  `user_id` int DEFAULT NULL,\n  `amount_due` int DEFAULT NULL,\n  `amount_paid` int DEFAULT NULL,\n  `currency` varchar(10) DEFAULT NULL,\n  `status` varchar(50) DEFAULT NULL,\n  `invoice_url` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `content_usage_agreements` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `content_type` varchar(50) NOT NULL,\n  `content_id` varchar(255) NOT NULL,\n  `agreed_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `ip_address` varchar(50) DEFAULT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `payment_transactions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `amount` int NOT NULL,\n  `currency` varchar(10) NOT NULL DEFAULT 'usd',\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `payment_method` varchar(50) DEFAULT NULL,\n  `stripe_payment_intent_id` varchar(255) DEFAULT NULL,\n  `metadata` json DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `student_subscriptions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `plan_type` varchar(50) NOT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'active',\n  `started_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `expires_at` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `user_phones` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `phone` varchar(20) NOT NULL,\n  `verified` boolean NOT NULL DEFAULT false,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `maintenance_notices` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `title` varchar(255) NOT NULL,\n  `content` text NOT NULL,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `start_time` bigint DEFAULT NULL,\n  `end_time` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_comments` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `content` text NOT NULL,\n  `parent_id` int DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_favorites` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  UNIQUE KEY `unique_favorite` (`video_id`, `user_id`)\n);\n\nCREATE TABLE IF NOT EXISTS `showcase_likes` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `video_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  UNIQUE KEY `unique_like` (`video_id`, `user_id`)\n);\n\nCREATE TABLE IF NOT EXISTS `traffic_stats` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `page` varchar(255) NOT NULL,\n  `views` int NOT NULL DEFAULT 0,\n  `unique_visitors` int NOT NULL DEFAULT 0,\n  `date` varchar(10) NOT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `team_credit_allocations` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `team_id` int NOT NULL,\n  `user_id` int NOT NULL,\n  `credits` int NOT NULL DEFAULT 0,\n  `allocated_by` int DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `user_verifications` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `type` varchar(50) NOT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `document_url` text DEFAULT NULL,\n  `verified_at` bigint DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `video_platform_links` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `platform` varchar(50) NOT NULL,\n  `platform_user_id` varchar(255) DEFAULT NULL,\n  `access_token` text DEFAULT NULL,\n  `refresh_token` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n\nCREATE TABLE IF NOT EXISTS `video_submissions` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `video_url` text NOT NULL,\n  `title` varchar(255) DEFAULT NULL,\n  `description` text DEFAULT NULL,\n  `platform` varchar(50) DEFAULT NULL,\n  `status` varchar(50) NOT NULL DEFAULT 'pending',\n  `review_notes` text DEFAULT NULL,\n  `created_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000),\n  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)\n);\n",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 2: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 6 column 59 near \"* 1000),",
    "  `updated_at` bigint NOT NULL DEFAULT (UNIX_TIMESTAMP() * 1000)",
    ")\""
  ]
}