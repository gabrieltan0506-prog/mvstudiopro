# MV Studio Pro 內測碼設計方案

**作者：Manus AI** | **日期：2026-02-22**

---

## 一、現有系統基礎

經過審計，項目已具備完整的 Beta 測試基礎設施：數據庫表（`beta_quotas` + `beta_referrals`）、後端 tRPC 路由（管理員授權、用戶兌換、邀請裂變、排行榜）、管理員後台（`admin-beta.tsx`）和用戶邀請頁面（`invite.tsx`）。本方案在此基礎上，補充**內測碼批量生成**和**精細化功能權限**兩個缺失環節。

---

## 二、內測碼格式與生成規則

內測碼採用 **8 位大寫字母+數字** 格式（如 `MVBETA01`、`A3F2B1C9`），與現有 `inviteCode` 格式一致。管理員可通過後台批量生成，每批最多 100 個。

| 項目 | 規格 |
|------|------|
| 碼格式 | 8 位大寫英數混合（如 `A3F2B1C9`） |
| 生成方式 | 管理員後台批量生成（1-100 個/批） |
| 有效期 | 生成後 30 天內兌換，兌換後永久有效（直到配額用完） |
| 使用限制 | 每碼僅限兌換 1 次，兌換後綁定用戶 |
| 碼類型 | 標準碼（20 次）、高級碼（40 次）、VIP 碼（100 次） |

---

## 三、內測範圍與功能權限

內測碼兌換後，用戶獲得一個**統一配額池**（如 20 次），每使用一個功能消耗 1 次配額。所有功能均可體驗，但高成本功能消耗更多配額，形成自然的使用引導。

### 3.1 功能配額消耗表

下表列出每個功能每次使用消耗的內測配額數，以及各類型碼的可用次數估算：

| 功能模塊 | 每次消耗配額 | 標準碼(20次)可用 | 高級碼(40次)可用 | VIP碼(100次)可用 | 說明 |
|----------|:----------:|:---------------:|:---------------:|:---------------:|------|
| **智能分鏡腳本**（文本生成） | 1 | 20 次 | 40 次 | 100 次 | Forge AI 免費生成，含水印 |
| **AI 靈感助手**（Gemini 生成腳本） | 1 | 20 次 | 40 次 | 100 次 | Gemini Flash 生成 |
| **虛擬偶像 2D 生成**（Forge AI） | 1 | 20 次 | 40 次 | 100 次 | 免費引擎，含水印 |
| **虛擬偶像 2D 生成**（NBP 2K） | 2 | 10 次 | 20 次 | 50 次 | 付費引擎，含水印 |
| **分鏡圖生成**（Forge AI） | 1 | 20 次 | 40 次 | 100 次 | 每次最多 5 張，含水印 |
| **分鏡圖生成**（NBP 2K） | 2 | 10 次 | 20 次 | 50 次 | 每次最多 10 張，含水印 |
| **視頻 PK 評分** | 1 | 20 次 | 40 次 | 100 次 | AI 評分分析 |
| **Suno 音樂生成**（V4） | 3 | 6 次 | 13 次 | 33 次 | 標準音質 |
| **Suno 音樂生成**（V5） | 5 | 4 次 | 8 次 | 20 次 | 高品質音質 |
| **AI 歌詞生成** | 1 | 20 次 | 40 次 | 100 次 | Gemini 生成歌詞 |
| **2D 轉 3D**（Rapid 閃電模式） | 3 | 6 次 | 13 次 | 33 次 | 快速 3D 轉換 |
| **2D 轉 3D**（Pro 精雕模式） | 5 | 4 次 | 8 次 | 20 次 | 高品質 3D 轉換 |
| **Kling 視頻生成** | 8 | 2 次 | 5 次 | 12 次 | 高成本 AI 視頻 |
| **Kling 口型同步** | 6 | 3 次 | 6 次 | 16 次 | 高成本口型同步 |
| **分鏡導出**（PDF/Word） | 1 | 20 次 | 40 次 | 100 次 | 文檔導出 |
| **視頻展廳瀏覽** | 0 | 無限 | 無限 | 無限 | 免費瀏覽 |
| **AI 客服** | 0 | 無限 | 無限 | 無限 | 免費使用 |

### 3.2 設計理念

這套配額消耗機制的核心邏輯是：**低成本功能消耗少（1次），高成本功能消耗多（3-8次）**。一個標準碼（20次）的用戶，典型使用路徑如下：

> 生成 2 個虛擬偶像（2次）→ AI 寫腳本（1次）→ 生成 5 張分鏡圖（1次）→ Suno V4 配樂（3次）→ 視頻 PK 評分 2 次（2次）→ 2D 轉 3D 一次（3次）→ 還剩 8 次配額可自由探索

這確保用戶能**完整體驗一遍核心流程**，同時對高成本功能形成自然限制。

---

## 四、邀請裂變機制

現有系統已支持邀請裂變，本方案沿用並微調：

| 項目 | 規格 |
|------|------|
| 邀請獎勵 | 邀請者 +10 次配額，被邀請者 +10 次配額（雙方受益） |
| 被邀請者初始配額 | 10 次（通過邀請碼加入的新用戶） |
| 邀請上限 | 無上限（鼓勵裂變） |
| Beta Tester 等級 | Starter(0) → Advocate(3+) → Ambassador(10+) → Champion(25+) → Legend(50+) |
| 排行榜 | 邀請頁面顯示 Top 20 邀請排行榜 |

---

## 五、內測碼類型建議

根據不同內測目標，建議生成三種類型的碼：

| 碼類型 | 配額 | 建議數量 | 適用對象 | 用途 |
|--------|:----:|:-------:|---------|------|
| **標準碼** | 20 次 | 50-100 個 | 普通內測用戶、社群分發 | 基礎體驗，驗證核心流程 |
| **高級碼** | 40 次 | 20-30 個 | KOL、合作夥伴、重點用戶 | 深度體驗，產出高質量反饋 |
| **VIP 碼** | 100 次 | 5-10 個 | 核心團隊、投資人、戰略合作 | 全功能深度測試 |

首批建議生成：**50 個標準碼 + 10 個高級碼 + 5 個 VIP 碼 = 65 個內測碼**，覆蓋約 65 名直接用戶 + 裂變帶來的額外用戶。

---

## 六、內測時間規劃

| 階段 | 時間 | 內容 |
|------|------|------|
| **準備期** | 第 1 天 | 部署 Suno/Kling API、確認功能正常、生成內測碼 |
| **內測期** | 第 2-4 天 | 分發內測碼、收集用戶反饋、即時修復 Bug |
| **總結期** | 第 5 天 | 分析使用數據、整理反饋、決定正式上線調整 |

---

## 七、需要開發的內容

現有系統已有 90% 的基礎設施，還需補充：

1. **管理員批量生成內測碼**（不綁定用戶，生成後分發）— 目前只能指定用戶授權
2. **內測碼兌換頁面**（用戶輸入碼 → 自動激活配額）— 目前只有邀請碼兌換
3. **功能級配額消耗**（不同功能消耗不同配額數）— 目前是統一 1 次/功能
4. **內測碼有效期管理**（30 天過期未兌換自動失效）

其中第 1、2 項是核心需求，第 3 項是增強體驗，第 4 項是運營管理。

---

**請確認此方案是否符合你的預期，我將立即開始開發。**
